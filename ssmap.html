<!-- <html>
 <head>
    <title>MapmyIndia Plugin - direction Plugin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="desciption" content="Mapmyindia Direction Plugin">
    <script src="https://apis.mapmyindia.com/advancedmaps/v1/<token>/map_load?v=1.5"></script>
    <script src="https://apis.mapmyindia.com/advancedmaps/api/<token/jwt key>/map_sdk_plugins"></script>
    <style>
        body{margin: 0}
        #map{
            width: 100%; height: 100vh; margin: 0; padding: 0;
        }
        #direction{color: #000;max-width: 99%;width:300px;position:absolute;z-index: 999;font-size: 15px;padding:10px;border: 1px solid #ddd;outline: none !important;top:55px;border-radius:10px;margin:2px 4px;}
    </style>
    </head>
    <body>
        <div id="map"></div>
        <div id="direction"></div>
        <script>
         /*Map Initialization*/
          var map = new MapmyIndia.Map('map', {center: [28.09, 78.3], zoom: 5, search: false});
          
          /*direction plugin initialization*/
            var direction_option={
                map:map,
                end:{label:'India Gate, Delhi',geoposition:"1T182A"},
		callback:function(data){console.log(data);}
            }
            var direction_plugin=MapmyIndia.direction(direction_option);  
            //direction_plugin.remove(); 
       </script>
    </body>
</html>

 -->





















<!-- 



 <html>
 <head>
    <title>resssg</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="desciption" content="Mapmyindia Direction Plugin">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css"
    integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14="
    crossorigin=""/>
    Make sure you put this AFTER Leaflet's CSS 
 <script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js"
 integrity="sha256-o9N1jGDZrf5tS+Ft4gbIK7mYMipq9lqpVJ91xHSyKhg="
 crossorigin=""></script>

 <style>
    body{margin: 0}
    #map{
        width: 50%; height: 100vh; margin: 0; padding: 0;
    }
</style>

    </head>
    <body>

        <div id="map"></div>



    <script>
        var map = L.map('map').setView([23.5, 72.09], 13);

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    L.marker([23.5, 72.09]).addTo(map)
    .bindPopup('pin no 1 is here')
    .openPopup();


// geoapify
myAPIKey = "bed8b866464f4b369ab39767ba49258d";
        const fromWaypoint = [23.506, 72.09]; // latutude, longitude
        const toWaypoint = [23.6, 72.07]; // latitude, longitude
        const url = `https://api.geoapify.com/v1/routing?waypoints=${fromWaypoint.join(',')}|${toWaypoint.join(',')}&mode=drive&details=instruction_details&apiKey=${myAPIKey}`;

        var routeResult ;
        fetch(url).then(res => res.json()).then(result => {
            console.log(result);
            routeResult=result;
        }, error => console.log(err));


//leaflet
    L.geoJSON(routeResult, {
  style: (feature) => {
    return {
      color: "rgba(20, 137, 255, 0.7)",
      weight: 5
    };
  }
}).bindPopup((layer) => {
  return `${layer.feature.properties.distance} ${layer.feature.properties.distance_units}, ${layer.feature.properties.time}`
}).addTo(map);

    </script>


    <script>
        myAPIKey = "bed8b866464f4b369ab39767ba49258d";
        const fromWaypoint = [38.937165,-77.045590]; // latutude, longitude
        const toWaypoint = [38.881152,-76.990693]; // latitude, longitude
        const url = `https://api.geoapify.com/v1/routing?waypoints=${fromWaypoint.join(',')}|${toWaypoint.join(',')}&mode=drive&details=instruction_details&apiKey=${myAPIKey}`;

        fetch(url).then(res => res.json()).then(result => {
            console.log(result);
        }, error => console.log(err));
    </script> 



    </body>
</html>

 -->

























































 
 <html>
 <head>
    <title>resssg</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="desciption" content="Mapmyindia Direction Plugin">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css"
    integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14="
    crossorigin=""/>
 <script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js"
 integrity="sha256-o9N1jGDZrf5tS+Ft4gbIK7mYMipq9lqpVJ91xHSyKhg="
 crossorigin=""></script>

 <style>
    body{margin: 0}
    #map{
        width: 50%; height: 100vh; margin: 0; padding: 0;
    }
</style>

    </head>
    <body>

        <div id="map"></div>



    <script>
// Leaflet has native support for raster maps, So you can create a map with a few commands only!

// The Leaflet map Object
const map = L.map('map').setView([23.112317 , 72.575143], 12);

// The API Key provided is restricted to JSFiddle website
// Get your own API Key on https://myprojects.geoapify.com
const myAPIKey = "bed8b866464f4b369ab39767ba49258d";

// Retina displays require different mat tiles quality
const isRetina = L.Browser.retina;

const baseUrl = "https://maps.geoapify.com/v1/tile/osm-bright/{z}/{x}/{y}.png?apiKey={apiKey}";
const retinaUrl = "https://maps.geoapify.com/v1/tile/osm-bright/{z}/{x}/{y}@2x.png?apiKey={apiKey}";

// Add map tiles layer. Set 20 as the maximal zoom and provide map data attribution.
L.tileLayer(isRetina ? retinaUrl : baseUrl, {
  attribution: 'Powered by <a href="https://www.geoapify.com/" target="_blank">Geoapify</a> | <a href="https://openmaptiles.org/" rel="nofollow" target="_blank">© OpenMapTiles</a> <a href="https://www.openstreetmap.org/copyright" rel="nofollow" target="_blank">© OpenStreetMap</a> contributors',
  apiKey: myAPIKey,
  maxZoom: 20,
  id: 'osm-bright',
}).addTo(map);

// calculate and display routing:
// from 38.937165,-77.045590 (1920 Quincy Street Northwest, Washington, DC 20011, United States of America)
const fromWaypoint = [23.112317 , 72.575143]; // latutude, longitude
// const fromWaypointMarker = L.marker(fromWaypoint).addTo(map).bindPopup("1920 Quincy Street Northwest, Washington, DC 20011, United States of America");

// to 38.881152,-76.990693 (1125 G Street Southeast, Washington, DC 20003, United States of America)
const toWaypoint = [23.2 , 72.6]; // latitude, longitude
// const toWaypointMarker = L.marker(toWaypoint).addTo(map).bindPopup("1125 G Street Southeast, Washington, DC 20003, United States of America");


const turnByTurnMarkerStyle = {
  radius: 5,
  fillColor: "#fff",
  color: "#555",
  weight: 1,
  opacity: 1,
  fillOpacity: 1
}


fetch(`https://api.geoapify.com/v1/routing?waypoints=${fromWaypoint.join(',')}|${toWaypoint.join(',')}&mode=drive&apiKey=${myAPIKey}`).then(res => res.json()).then(result => {

  // Note! GeoJSON uses [longitude, latutude] format for coordinates
  L.geoJSON(result, {
    style: (feature) => {
      return {
        color: "rgba(20, 137, 255, 0.7)",
        weight: 5
      };
    }
  }).bindPopup((layer) => {
    return `${layer.feature.properties.distance} ${layer.feature.properties.distance_units}, ${layer.feature.properties.time}`
  }).addTo(map);

  // collect all transition positions
  const turnByTurns = [];
  result.features.forEach(feature => feature.properties.legs.forEach((leg, legIndex) => leg.steps.forEach(step => {
    const pointFeature = {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": feature.geometry.coordinates[legIndex][step.from_index]
      },
      "properties": {
        "instruction": step.instruction.text
      }
    }
    turnByTurns.push(pointFeature);
  })));

  L.geoJSON({
    type: "FeatureCollection",
    features: turnByTurns
  }, {
    pointToLayer: function(feature, latlng) {
      return L.circleMarker(latlng, turnByTurnMarkerStyle);
    }
  }).bindPopup((layer) => {
    return `${layer.feature.properties.instruction}`
  }).addTo(map);

}, error => console.log(err));

    </script>





    </body>
</html> 




















































   













































